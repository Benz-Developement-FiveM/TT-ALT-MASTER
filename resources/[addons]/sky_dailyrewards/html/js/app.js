(function(t){function e(e){for(var r,o,c=e[0],i=e[1],l=e[2],u=0,f=[];u<c.length;u++)o=c[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);d&&d(e);while(f.length)f.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],r=!0,c=1;c<n.length;c++){var i=n[c];0!==a[i]&&(r=!1)}r&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},s=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="nui://sky_dailyrewards/html/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=i;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"17ca":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a=(n("ac1f"),n("5319"),{key:1,class:"menu"}),s={class:"title"},o={class:"time"};function c(t,e,n,c,i,l){var d=Object(r["p"])("Rewards"),u=Object(r["p"])("Notify");return Object(r["k"])(),Object(r["e"])(r["a"],null,[i.open?(Object(r["k"])(),Object(r["e"])("div",{key:0,class:"background",style:Object(r["j"])({background:t.$store.state.config.style.background.color,opacity:t.$store.state.config.style.background.opacity})},null,4)):Object(r["d"])("",!0),i.open?(Object(r["k"])(),Object(r["e"])("div",a,[Object(r["f"])("h1",s,Object(r["q"])(t.$store.state.lang.title),1),Object(r["f"])("h1",o,Object(r["q"])(t.$store.state.claimed?t.$store.state.lang.nextRewardIn.replace("%tme%",t.$store.state.remaining):t.$store.state.lang.claimYourReward),1),Object(r["g"])(d)])):Object(r["d"])("",!0),"none"!==t.$store.state.notification&&i.open?(Object(r["k"])(),Object(r["c"])(u,{key:2})):Object(r["d"])("",!0)],64)}var i=n("1da1"),l=(n("96cf"),n("d3b7"),n("99af"),n("caad"),n("2532"),function(t){return Object(r["m"])("data-v-3320e8c0"),t=t(),Object(r["l"])(),t}),d=["onClick"],u={class:"reward-title"},f=l((function(){return Object(r["f"])("hr",{class:"reward-line"},null,-1)})),b=["src","alt"],g=["src","alt"],p={class:"reward-label"},m=l((function(){return Object(r["f"])("img",{src:"img/icons/locked-bars.png",alt:"img/icons/locked-bars.png",class:"reward-locked-background"},null,-1)})),$=l((function(){return Object(r["f"])("img",{src:"img/icons/locked.png",alt:"img/icons/locked.png",class:"reward-locked-img"},null,-1)})),j=[m,$];function O(t,e,n,a,s,o){return Object(r["k"])(),Object(r["e"])("ul",{class:"grid",style:Object(r["j"])({"--normal-background":t.$store.state.config.style.rewards.normal.background,"--normal-inner":t.$store.state.config.style.rewards.normal.inner,"--long-background":t.$store.state.config.style.rewards.long.background,"--long-inner":t.$store.state.config.style.rewards.long.inner,"--square-background":t.$store.state.config.style.rewards.square.background,"--square-inner":t.$store.state.config.style.rewards.square.inner})},[(Object(r["k"])(!0),Object(r["e"])(r["a"],null,Object(r["o"])(t.$store.state.rewards,(function(e,n){return Object(r["k"])(),Object(r["e"])("li",{class:Object(r["i"])("grid-item ".concat(t.$store.state.config.devMode?"reward-claimable":e.img?n+1!=t.$store.state.day||t.$store.state.claimed?"":"reward-claimable":"reward")),onClick:function(t){return o.claim(n)},key:n,style:Object(r["j"])({background:"radial-gradient(\n            112.5% 112.5% at 50.29% 50%,\n            var(--".concat(29==n?"square":6==n||13==n||20==n?"long":"normal","-inner) 21.82%,\n            rgba(0, 0, 0, 0) 100%\n          ),\n          var(--").concat(29==n?"square":6==n||13==n||20==n?"long":"normal","-background)"),gridArea:"".concat(6==n?"a":13==n?"b":20==n?"c":29==n?"d":"")})},[Object(r["f"])("h2",u,Object(r["q"])(t.$store.state.lang.level.replace("%day%",n+1)),1),f,(t.$store.state.claimed?n<=t.$store.state.day-1&&!t.$store.state.config.devMode:n<=t.$store.state.day-2&&!t.$store.state.config.devMode)?(Object(r["k"])(),Object(r["e"])("img",{key:0,src:"img/icons/".concat(t.$store.state.skipped.includes(n+1)||!t.$store.state.streak&&n+2==t.$store.state.day?"skipped":"claimed",".png"),alt:"img/icons/".concat(t.$store.state.skipped.includes(n+1)||!t.$store.state.streak&&n+2==t.$store.state.day?"skipped":"claimed",".png"),class:"claimed-img"},null,8,b)):Object(r["d"])("",!0),Object(r["f"])("img",{src:"img/rewards/".concat(e.img,".png"),alt:"img/rewards/".concat(e.img,".png"),class:"reward-image",style:Object(r["j"])({height:"".concat(29==n?"20":"9","vh")})},null,12,g),Object(r["f"])("h2",p,Object(r["q"])(e.label),1),Object(r["f"])("div",{class:"reward-locked",style:Object(r["j"])({opacity:"".concat(t.$store.state.config.devMode?0:n+1>t.$store.state.day?1:0)})},j,4)],14,d)})),128))],4)}n("e9c4");var h={methods:{wait:function(t){return new Promise((function(e){return setTimeout(e,t)}))},claim:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.$store.state.config.devMode||"none"!==e.$store.state.notification){n.next=14;break}fetch("".concat(e.$store.state.serverUrl,"/claim"),{method:"post",body:JSON.stringify({reward:e.$store.state.rewards[t].reward,day:t+1})}),e.$store.state.claimed=!0,e.$store.state.day=t+1;case 4:if(e.$store.state.day==t+1){n.next=9;break}return n.next=7,e.wait(100);case 7:n.next=4;break;case 9:e.$store.state.lastClaimed=Date.now()/1e3,e.$store.state.interval=setInterval((function(){var t=e.$store.state.lastClaimed+82740-Date.now()/1e3,n=Math.ceil(t/3600),r="0"+Math.ceil(t%3600/60),a="0"+Math.ceil(t%3600%60);e.$store.state.remaining=n+":"+r.substr(-2)+":"+a.substr(-2)}),1e3),e.$store.state.notification="claimed",n.next=15;break;case 14:e.$store.state.claimed||t==e.$store.state.day-1&&"none"===e.$store.state.notification&&(fetch("".concat(e.$store.state.serverUrl,"/claim"),{method:"post",body:JSON.stringify({reward:e.$store.state.rewards[e.$store.state.day-1].reward,day:e.$store.state.day})}),e.$store.state.claimed=!0,e.$store.state.notification="claimed",e.$store.state.lastClaimed=Date.now()/1e3,e.$store.state.interval=setInterval((function(){var t=e.$store.state.lastClaimed+82740-Date.now()/1e3,n=Math.ceil(t/3600),r="0"+Math.ceil(t%3600/60),a="0"+Math.ceil(t%3600%60);e.$store.state.remaining=n+":"+r.substr(-2)+":"+a.substr(-2)}),1e3));case 15:case"end":return n.stop()}}),n)})))()}}},k=(n("f476"),n("6b0d")),v=n.n(k);const y=v()(h,[["render",O],["__scopeId","data-v-3320e8c0"]]);var w=y,x=(n("a4d3"),n("e01a"),function(t){return Object(r["m"])("data-v-52963b04"),t=t(),Object(r["l"])(),t}),C={class:"background"},M={class:"container"},q=x((function(){return Object(r["f"])("div",{class:"border-top"},null,-1)})),R=x((function(){return Object(r["f"])("div",{class:"border-bottom"},null,-1)})),S={class:"title"},_={class:"description"},J={class:"button-text"},N={key:1,class:"buttons"},P=x((function(){return Object(r["f"])("img",{src:"img/icons/coins.png",alt:"img/icons/coins.png",class:"button-img"},null,-1)})),U={class:"button-text"},I={class:"button-text"},D=["src","alt"];function A(t,e,n,a,s,o){return Object(r["k"])(),Object(r["e"])("div",C,[Object(r["f"])("div",M,[q,R,Object(r["f"])("h1",S,Object(r["q"])(t.$store.state.lang.notifications[t.$store.state.notification].title.replace("%rwd%",t.$store.state.rewards[t.$store.state.day-1].label)),1),Object(r["f"])("p",_,Object(r["q"])(t.$store.state.lang.notifications[t.$store.state.notification].description),1),"claimed"===t.$store.state.notification?(Object(r["k"])(),Object(r["e"])("div",{key:0,class:"button active",onClick:e[0]||(e[0]=function(e){return t.$store.state.notification="none"})},[Object(r["f"])("h2",J,Object(r["q"])(t.$store.state.lang.notifications.claimed.okay),1)])):Object(r["d"])("",!0),"streak"===t.$store.state.notification?(Object(r["k"])(),Object(r["e"])("div",N,[Object(r["f"])("div",{class:"button-yes active",onClick:e[1]||(e[1]=function(t){return o.skip()})},[P,Object(r["f"])("h2",U,Object(r["q"])(t.$store.state.lang.notifications.streak.skip.replace("%cns%",t.$store.state.config.skipWithCoins.price)),1)]),Object(r["f"])("div",{class:"button-no active",onClick:e[2]||(e[2]=function(t){return o.reset()})},[Object(r["f"])("h2",I,Object(r["q"])(t.$store.state.lang.notifications.streak.lose),1)])])):Object(r["d"])("",!0),Object(r["f"])("img",{src:"img/".concat("streak"===t.$store.state.notification?"icons/sad":"rewards/".concat(t.$store.state.rewards[t.$store.state.day-1].img),".png"),alt:"img/".concat("streak"===t.$store.state.notification?"icons/sad":"rewards/".concat(t.$store.state.rewards[t.$store.state.day-1].img),".png"),class:"pepe-img"},null,8,D)])])}var L={methods:{skip:function(){var t=this;fetch("".concat(this.$store.state.serverUrl,"/skip"),{method:"post",body:JSON.stringify({day:this.$store.state.day})}).then((function(t){return t.json()})).then((function(e){e.success&&(t.$store.state.notification="none")}))},reset:function(){fetch("".concat(this.$store.state.serverUrl,"/reset"),{method:"post"}),this.$store.state.notification="none",this.$store.state.day=1}}};n("ab0a");const T=v()(L,[["render",A],["__scopeId","data-v-52963b04"]]);var E=T,W={name:"App",components:{Rewards:w,Notify:E},data:function(){return{open:!1}},methods:{wait:function(t){return new Promise((function(e){return setTimeout(e,t)}))},fetchAll:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t.$store.state.serverUrl,"/lang"),{method:"post"}).then((function(t){return t.json()})).then((function(e){return t.$store.commit("setLang",e)}));case 2:return e.next=4,fetch("".concat(t.$store.state.serverUrl,"/config"),{method:"post"}).then((function(t){return t.json()})).then((function(e){return t.$store.commit("setConfig",e)}));case 4:return e.next=6,fetch("".concat(t.$store.state.serverUrl,"/rewards"),{method:"post"}).then((function(t){return t.json()})).then((function(e){return t.$store.commit("setRewards",e)}));case 6:t.open=!0;case 7:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:window.addEventListener("message",function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=n.data,e.t0=r.type,e.next="open"===e.t0?4:14;break;case 4:return t.$store.state.day=r.day,t.$store.state.claimed=r.claimed,t.$store.state.streak=r.streak,t.$store.state.skipped=JSON.parse(r.skipped),t.$store.state.lastClaimed=r.lastClaimed,e.next=11,t.fetchAll();case 11:return!r.streak&&t.$store.state.config.skipWithCoins.use&&(t.$store.state.notification="streak"),r.claimed&&(t.$store.state.interval=setInterval((function(){var e=t.$store.state.lastClaimed+82740-Date.now()/1e3,n=Math.ceil(e/3600),r="0"+Math.ceil(e%3600/60),a="0"+Math.ceil(e%3600%60);t.$store.state.remaining=n+":"+r.substr(-2)+":"+a.substr(-2)}),1e3)),e.abrupt("break",14);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),window.addEventListener("keydown",(function(e){27===e.keyCode&&t.open&&(t.open=!1,clearInterval(t.$store.state.interval),fetch("".concat(t.$store.state.serverUrl,"/close"),{method:"post"}))}));case 2:case"end":return e.stop()}}),e)})))()}};n("d86f");const Y=v()(W,[["render",c]]);var z=Y,B=n("5502"),F=Object(B["a"])({state:{serverUrl:"https://sky_dailyrewards",config:{},lang:{},day:1,claimed:!1,streak:!0,notification:"none",skipped:[],lastClaimed:0,interval:0,remaining:"",rewards:[]},mutations:{setConfig:function(t,e){t.config=JSON.parse(e)},setLang:function(t,e){t.lang=JSON.parse(e)},setRewards:function(t,e){t.rewards=JSON.parse(e)}},actions:{},modules:{}});Object(r["b"])(z).use(F).mount("#app")},ab0a:function(t,e,n){"use strict";n("b89d")},b89d:function(t,e,n){},cd7c:function(t,e,n){},d86f:function(t,e,n){"use strict";n("17ca")},f476:function(t,e,n){"use strict";n("cd7c")}});
//# sourceMappingURL=app.js.map